<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes" />
    <meta name="theme-color" content="#000000" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <title>E'MPIRE ‚Äî Noble Fragrances</title>

    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;600&family=Cinzel:wght@400;700&family=Montserrat:wght@300;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <link rel="stylesheet" href="style.css" />
</head>

<body>

    <div class="top-offer-bar">
        JOINING FAMILY SALE ‚Äî FLAT 70% OFF | Use Code: <strong>EMPIRE26</strong>
    </div>

    <header class="nav">
        <div class="nav-left">
            <img src="images/logo.png" alt="E'MPIRE Logo" class="logo-img">
            <span class="brand">E'MPIRE</span>
        </div>

        <div class="nav-right nav-actions">
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search fragrances‚Ä¶">
                <button class="search-btn">
                    <i class="fa fa-search"></i>
                </button>
            </div>

            <button id="menuToggle" class="icon-btn" onclick="toggleMenu()" aria-label="Toggle Menu">‚ò∞</button>
            <button id="authBtn" class="btn ghost" onclick="openAuth()">Login</button>

            <button id="cartBtn" class="icon-btn" onclick="toggleCart()">
                üõí <span id="cartCount">0</span>
            </button>
        </div>

        <nav id="mobileMenu" class="mobile-menu-overlay">
            <button class="menu-close" onclick="toggleMenu()">‚úï</button>
            <a href="#home" onclick="toggleMenu()">Home</a>
            <a href="#featured" onclick="toggleMenu()">Collection</a>
            <a href="#about" onclick="toggleMenu()">Founders</a>
            <a href="my-orders.html" onclick="toggleMenu()">My Orders</a>
            <a href="#" id="mobileLogoutBtn" style="display:none; color: #ff4444;" onclick="logout()">Logout</a>
        </nav>
    </header>

    <div id="cartSidebar" class="cart-sidebar">
        <div class="cart-sidebar-header" style="display: flex; justify-content: space-between; align-items: center;">
            <h3>Selection</h3>
            <button class="icon-btn" onclick="toggleCart()">‚úï</button>
        </div>
        <div id="cartItemsContainer" class="cart-items-body" style="flex:1; overflow-y:auto; padding: 20px 0;">
            <p class="empty-msg">Your selection is empty.</p>
        </div>
        <div class="cart-sidebar-footer" style="padding-top: 20px; border-top: 1px solid #222;">
            <div class="cart-total"
                style="display:flex; justify-content:space-between; margin-bottom: 20px; font-weight: bold;">
                <span>Total:</span>
                <span id="cartTotalValue">‚Çπ0</span>
            </div>
            <button class="btn primary" style="width:100%;" onclick="location.href='checkout.html'">Checkout</button>
        </div>
    </div>

    <section class="hero" id="home">
        <video autoplay muted loop playsinline id="heroVideo">
            <source src="video/video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

        <audio id="bgAudio" loop>
            <source src="audio/empire-audio.mpeg" type="audio/mpeg">
        </audio>
        <button id="audioToggle" aria-label="Toggle sound">üîä</button>

        <div class="hero-inner reveal-hidden">
            <h1 class="gold-text">E'MPIRE</h1>
            <p class="subtitle">Experience Noble Fragrances</p>
            <div class="hero-cta">
                <a href="#featured" class="btn primary">Explore Collection</a>
            </div>
        </div>
    </section>

    <section id="featured" class="section">
        <div class="container">
            <h2 class="section-title reveal-hidden">The Collection</h2>

            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; margin-bottom: 50px;">

                <article class="product-card reveal-hidden">
                    <div class="product-media" onclick="viewProduct('whisky')">
                        <img src="images/Smoked Whisky.jpg" alt="Smoked Whisky">
                    </div>
                    <div class="product-body neesh-style">
                        <h3 class="product-name">Smoked Whisky</h3>
                        <div class="product-tag">For Him</div>
                        <div class="product-meta">50 ml ‚Ä¢ Eau De Parfum</div>
                        <p class="product-desc">Bold, smoky and intense. A rich blend of aged bourbon and charred oak.
                        </p>
                        <div class="price-block">
                            <span class="new-price">‚Çπ2800</span>
                        </div>
                        <div class="discount-text">70% OFF WITH CODE: EMPIRE26</div>
                        <div class="button-group" style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn primary small" style="flex: 1;"
                                onclick="addToCart('Smoked Whisky', 2800)">Add to Cart</button>
                            <button class="btn ghost small" style="flex: 1;" onclick="buyNow('Smoked Whisky', 2800)">
                                Buy Now
                            </button>
                            <button class="btn ghost small" onclick="shareProduct('Smoked Whisky')">Share</button>
                        </div>
                    </div>
                </article>

                <article class="product-card reveal-hidden">
                    <div class="product-media" onclick="viewProduct('ocean')">
                        <img src="images/Ocean Aura.jpg" alt="Ocean Aura">
                    </div>
                    <div class="product-body neesh-style">
                        <h3 class="product-name">Ocean Aura</h3>
                        <div class="product-tag">Unisex</div>
                        <div class="product-meta">50 ml ‚Ä¢ Eau De Parfum</div>
                        <p class="product-desc">Fresh aquatic essence. Capturing coastal breezes and Mediterranean salt.
                        </p>
                        <div class="price-block">
                            <span class="new-price">‚Çπ2800</span>
                        </div>
                        <div class="discount-text">70% OFF WITH CODE: EMPIRE26</div>
                        <div class="button-group" style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn primary small" style="flex: 1;"
                                onclick="addToCart('Ocean Aura', 2800)">Add to Cart</button>
                            <button class="btn ghost small" style="flex: 1;" onclick="buyNow('Ocean Aura', 2800)">
                                Buy Now
                            </button>
                            <button class="btn ghost small" onclick="shareProduct('Ocean Aura')">Share</button>
                        </div>
                    </div>
                </article>

                <article class="product-card reveal-hidden">
                    <div class="product-media" onclick="viewProduct('blush')">
                        <img src="images/Blush ELIXIR.jpg" alt="Blush ELIXIR">
                    </div>
                    <div class="product-body neesh-style">
                        <h3 class="product-name">Blush ELIXIR</h3>
                        <div class="product-tag">For Her</div>
                        <div class="product-meta">50 ml ‚Ä¢ Eau De Parfum</div>
                        <p class="product-desc">Soft, floral and gourmand fragrance crafted for all-day luxury wear.</p>
                        <div class="price-block">
                            <span class="new-price">‚Çπ2800</span>
                        </div>
                        <div class="discount-text">70% OFF WITH CODE: EMPIRE26</div>
                        <div class="button-group" style="display: flex; gap: 10px; margin-top: 15px;">
                            <button class="btn primary small" style="flex: 1;"
                                onclick="addToCart('Blush ELIXIR', 2800)">Add to Cart</button>
                            <button class="btn ghost small" style="flex: 1;" onclick="buyNow('Blush ELIXIR', 2800)">
                                Buy Now
                            </button>
                            <button class="btn ghost small" onclick="shareProduct('Blush ELIXIR')">Share</button>
                        </div>
                    </div>
                </article>

                <article class="product-card reveal-hidden">
                    <div class="product-media slider" onclick="viewProduct('pearforest')">
                        <img src="images/Fruity Forest 1.jpg" class="slide active" alt="Pear Forest">
                        <img src="images/Fruity Forest 2.jpg" class="slide" alt="Pear Forest">
                        <img src="images/Fruity Forest 3.jpg" class="slide" alt="Pear Forest">
                    </div>
                    <div class="product-body neesh-style">
                        <h3 class="product-name">Pear Forest</h3>
                        <div class="product-tag">For Her</div>
                        <div class="product-meta">50 ml ‚Ä¢ Eau De Parfum</div>
                        <p class="product-desc">Fresh, vibrant and effortlessly elegant ‚Äî a modern fruity-floral
                            fragrance.</p>
                        <div class="price-block">
                            <span class="new-price">‚Çπ4200</span>
                        </div>
                        <div class="discount-text">70% OFF WITH CODE: EMPIRE26</div>
                        <div class="button-group" style="display:flex; gap:10px; margin-top:15px;">
                            <button class="btn primary small" style="flex:1;"
                                onclick="addToCart('Pear Forest', 4200)">Add to Cart</button>
                            <button class="btn ghost small" style="flex:1;" onclick="location.href='checkout.html'">Buy
                                Now</button>
                            <button class="btn ghost small" onclick="shareProduct('Pear Forest')">Share</button>
                        </div>
                    </div>
                </article>

                <article class="product-card reveal-hidden">
                    <div class="product-media slider" onclick="viewProduct('crown')">
                        <img src="images/Crown of Dunes 1.jpg" class="slide active">
                        <img src="images/Crown of Dunes 2.jpg" class="slide">
                        <img src="images/Crown of Dunes 3.jpg" class="slide">
                    </div>
                    <div class="product-body neesh-style">
                        <h3 class="product-name">Crown of Dunes</h3>
                        <div class="product-tag">Unisex</div>
                        <div class="product-meta">50 ml ‚Ä¢ Eau De Parfum</div>
                        <p class="product-desc">Warm, luxurious fragrance blending sweet tonka, amber, spices and deep
                            woods.</p>
                        <div class="price-block">
                            <span class="new-price">‚Çπ4200</span>
                        </div>
                        <div class="discount-text">70% OFF WITH CODE: EMPIRE26</div>
                        <div class="button-group" style="display:flex; gap:10px; margin-top:15px;">
                            <button class="btn primary small" style="flex:1;"
                                onclick="addToCart('Crown of Dunes', 4200)">Add to Cart</button>
                            <button class="btn ghost small" style="flex:1;" onclick="location.href='checkout.html'">Buy
                                Now</button>
                            <button class="btn ghost small" onclick="shareProduct('Crown of Dunes')">Share</button>
                        </div>
                    </div>
                </article>

                <article class="product-card reveal-hidden">
                    <div class="product-media slider" onclick="viewProduct('supermale')">
                        <img src="images/Supermale 1.jpg" class="slide active">
                        <img src="images/Supermale 2.jpg" class="slide">
                    </div>
                    <div class="product-body neesh-style">
                        <h3 class="product-name">Supermale</h3>
                        <div class="product-tag">For Him</div>
                        <div class="product-meta">50 ml ‚Ä¢ Eau De Parfum</div>
                        <p class="product-desc">Bold, modern fragrance built for confidence, freshness and all-day
                            power.</p>
                        <div class="price-block">
                            <span class="new-price">‚Çπ4800</span>
                        </div>
                        <div class="discount-text">70% OFF WITH CODE: EMPIRE26</div>
                        <div class="button-group" style="display:flex; gap:10px; margin-top:15px;">
                            <button class="btn primary small" style="flex:1;" onclick="addToCart('Supermale', 4800)">Add
                                to Cart</button>
                            <button class="btn ghost small" style="flex:1;" onclick="location.href='checkout.html'">Buy
                                Now</button>
                            <button class="btn ghost small" onclick="shareProduct('Supermale')">Share</button>
                        </div>
                    </div>
                </article>

                <article class="product-card reveal-hidden">
                    <div class="product-media slider" onclick="viewProduct('berryflora')">
                        <img src="images/Berry Flora 1.jpg" class="slide active">
                        <img src="images/Berry Flora 2.jpg" class="slide">
                        <img src="images/Berry Flora 3.jpg" class="slide">
                        <img src="images/Berry Flora 4.jpg" class="slide">
                        <img src="images/Berry Flora 5.jpg" class="slide">
                    </div>
                    <div class="product-body neesh-style">
                        <h3 class="product-name">Berry Flora</h3>
                        <div class="product-tag">For Her</div>
                        <div class="product-meta">50 ml ‚Ä¢ Eau De Parfum</div>
                        <p class="product-desc">Soft, radiant floral-fruity fragrance with juicy berries and elegant
                            florals.</p>
                        <div class="price-block">
                            <span class="new-price">‚Çπ4200</span>
                        </div>
                        <div class="discount-text">70% OFF WITH CODE: EMPIRE26</div>
                        <div class="button-group" style="display:flex; gap:10px; margin-top:15px;">
                            <button class="btn primary small" style="flex:1;"
                                onclick="addToCart('Berry Flora', 4200)">Add to Cart</button>
                            <button class="btn ghost small" style="flex:1;" onclick="location.href='checkout.html'">Buy
                                Now</button>
                            <button class="btn ghost small" onclick="shareProduct('Berry Flora')">Share</button>
                        </div>
                    </div>
                </article>
            </div>

            <div style="text-align:center;margin-top:60px;">
                <a href="coming-soon.html" class="btn ghost">Show More</a>
            </div>
        </div>
    </section>

    <section id="about" class="section about-founder"
        style="padding: 100px 0; background: #050505; border-top: 1px solid rgba(212,175,55,0.1);">
        <div class="container reveal-hidden">
            <div class="about-content" style="max-width: 900px; margin: 0 auto; text-align: center;">
                <h3 style="letter-spacing: 5px; color: #d4af37; margin-bottom: 15px; font-size: 14px;">üëë THE FOUNDERS
                </h3>
                <h2 class="gold-text"
                    style="font-size: clamp(32px, 5vw, 48px); font-family: 'Playfair Display', serif; margin-bottom: 40px; letter-spacing: 2px;">
                    AMRIT & KRISH</h2>

                <div class="about-text-body" style="text-align: justify; text-justify: inter-word;">
                    <p style="color: #ccc; line-height: 2; margin-bottom: 25px; font-size: 17px; font-weight: 300;">
                        Founded by <strong style="color:#f1e5ac;">Amrit and Krish</strong>, two ambitious college
                        students driven by a shared passion for entrepreneurship and fine fragrances, <strong
                            style="color:#f1e5ac;">E‚ÄôMPIRE</strong> was born from a simple yet powerful vision ‚Äî to make
                        premium perfumes accessible, memorable, and deeply personal.
                    </p>
                    <p style="color: #ccc; line-height: 2; margin-bottom: 25px; font-size: 17px; font-weight: 300;">
                        While balancing academics, the duo blended creativity with sharp business strategy to build a
                        fragrance label that reflects confidence, individuality, and modern sophistication. Their
                        youthful perspective, strong work ethic, and uncompromising commitment to quality influence
                        every creation.
                    </p>
                    <p
                        style="color: #ccc; line-height: 2; font-size: 17px; font-weight: 300; font-style: italic; text-align: center; border-left: 2px solid #d4af37; padding-left: 20px; margin-top: 40px;">
                        ‚ÄúEvery fragrance is designed to leave a lasting impression ‚Äî rooted in elegance, authenticity,
                        and intention.‚Äù
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="section contact">
        <div class="container contact-grid reveal-hidden">
            <div class="contact-info">
                <h2 class="gold-text">Contact Us</h2>
                <p>Inquire about our bespoke fragrance services.</p>
            </div>

            <form id="contactForm" class="contact-form" action="https://formsubmit.co/empire.official2026@gmail.com"
                method="POST">
                <input type="hidden" name="_subject" value="New Contact Enquiry - E'MPIRE">
                <input type="hidden" name="_captcha" value="false">
                <input type="hidden" name="_template" value="table">
                <input type="hidden" name="_next" value="https://yourwebsite.com/thank-you.html">
                <input type="hidden" name="_autoresponse"
                    value="Thank you for contacting E'MPIRE. We‚Äôll get back to you shortly!">
                <input type="text" name="_honey" style="display:none">

                <div class="form-row">
                    <input type="text" name="Name" placeholder="Name" required
                        style="padding:15px; background:#111; border:1px solid #333; color:white;">
                    <input type="email" name="Email" placeholder="Email" required
                        style="padding:15px; background:#111; border:1px solid #333; color:white;">
                </div>

                <textarea name="Message" placeholder="Your Message" required
                    style="width:100%; padding:15px; background:#111; border:1px solid #333; color:white; height:100px; margin-bottom:15px;"></textarea>

                <button type="submit" class="btn primary">Send Message</button>
            </form>
            <p id="contactSuccess"
                style="display:none; margin-top:20px; color:#d4af37; font-size:14px; letter-spacing:1px;">
                Thank you for contacting us.</p>
        </div>
    </section>

    <div id="authModal" class="auth-modal">
        <div class="auth-box">
            <button class="close-btn" onclick="closeAuth()">‚úï</button>

            <div id="authStepChoice">
                <h2 class="gold-text">Welcome to E'MPIRE</h2>
                <p style="color: #888; margin-bottom: 25px; font-size: 0.9rem;">Join the elite circle.</p>

                <button type="button" class="btn primary" style="width:100%; margin-bottom:15px;"
                    onclick="showEmailLogin()">
                    Sign in with Email
                </button>

                <button type="button" class="btn google-btn" onclick="signInWithGoogle()"
                    style="width: 100%; background: #fff; color: #000; border: none; padding: 12px; display: flex; align-items: center; justify-content: center; gap: 10px; font-weight: 600; cursor: pointer;">
                    <i class="fab fa-google"></i> Continue with Google
                </button>

                <div style="margin: 20px 0; display: flex; align-items: center; color: #444;">
                    <hr style="flex:1; border: 0.5px solid #222;">
                    <span style="padding: 0 10px; font-size: 12px;">OR</span>
                    <hr style="flex:1; border: 0.5px solid #222;">
                </div>

                <button type="button" class="btn ghost" onclick="showEmailSignUp()" style="width:100%;">Create New
                    Account</button>
            </div>

            <div id="authStepEmail" style="display:none;">
                <h3 class="gold-text" style="margin-bottom:20px;">Sign In</h3>
                <input id="authEmail" type="email" placeholder="Email address" required>
                <div style="position: relative;">
                    <input id="authPassword" type="password" placeholder="Password" required
                        style="padding-right: 45px;">
                    <button type="button" onclick="togglePasswordVisibility('authPassword', this)"
                        style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; color: #d4af37; cursor: pointer; font-size: 18px; padding: 5px;"
                        title="Toggle password visibility">
                        üëÅÔ∏è
                    </button>
                </div>

                <button type="button" class="btn primary" style="width:100%; margin-top:10px;" onclick="signIn()">
                    Sign In
                </button>

                <p style="margin-top:14px; font-size:13px; cursor:pointer; color:#aaa; text-align:center;"
                    onclick="forgotPassword()">
                    Forgot password?
                </p>
                <button type="button" class="btn ghost small" onclick="backToChoice()"
                    style="width:100%; border:none; margin-top:10px;">‚Üê Back</button>
            </div>

            <div id="authStepSignUp" style="display:none;">
                <h3 class="gold-text" style="margin-bottom:20px;">Create Account</h3>
                <input id="signupName" type="text" placeholder="Full Name" required>
                <input id="signupEmail" type="email" placeholder="Email" required>
                <input id="signupPhone" type="tel" placeholder="Phone Number">
                <div style="position: relative;">
                    <input id="signupPassword" type="password" placeholder="Password" required
                        style="padding-right: 45px;">
                    <button type="button" onclick="togglePasswordVisibility('signupPassword', this)"
                        style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; color: #d4af37; cursor: pointer; font-size: 18px; padding: 5px;"
                        title="Toggle password visibility">
                        üëÅÔ∏è
                    </button>
                </div>

                <button type="button" class="btn primary" onclick="signUp()"
                    style="width:100%; margin-top:10px;">Register</button>
                <button type="button" class="btn ghost small" onclick="backToChoice()"
                    style="width:100%; border:none; margin-top:10px;">‚Üê Back</button>
            </div>
        </div>
    </div>

    <footer class="empire-footer">
        <div class="footer-container">
            <div class="footer-brand">
                <img src="images/logo.png" alt="E'MPIRE Logo">
                <h3>E'MPIRE</h3>
                <p>Luxury fragrances crafted for elegance and lasting presence.</p>
                <div class="social-links" style="margin-top:20px; display:flex; gap:15px;">
                    <a href="https://www.instagram.com/empireperfumes.official?igsh=MTRrZTNyMWVicGM3Mg=="
                        target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://wa.me/919911261347" target="_blank"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>

            <div class="footer-contact">
                <h4>Contact</h4>
                <p><strong>Email:</strong> empire.official2026@gmail.com</p>
                <p><strong>Phone:</strong> +91 9911261347</p>
                <p class="address">
                    Sector 31,<br>
                    Faridabad ‚Äì 121003, Haryana
                </p>
            </div>

            <div class="footer-links">
                <h4>Quick Links</h4>
                <a href="index.html">Home</a>
                <a href="#featured">Collection</a>
                <a href="terms.html">Terms & Conditions</a>
                <a href="#contact">Contact</a>
            </div>
        </div>

        <div class="footer-bottom">
            <p>¬© 2026 E'MPIRE PERFUMES. All rights reserved.</p>
        </div>
    </footer>

    <a href="https://wa.me/919911261347" target="_blank" class="whatsapp-float">
        <i class="fab fa-whatsapp"></i>
    </a>

    <div id="promoPopup"
        style="position:fixed; inset:0; background:rgba(0,0,0,0.85); display:none; align-items:center; justify-content:center; z-index:4000;">
        <div class="promo-box" style="position:relative;">
            <img src="images/Promo.jpeg" style="max-width:90vw; max-height:85vh; border-radius:12px;" />
            <button onclick="closePopup()"
                style="position:absolute; top:-14px; right:-14px; width:36px; height:36px; border-radius:50%; border:none; background:#d4af37; color:#000; font-size:18px; cursor:pointer;">‚úï</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>

    <script>
        // --- PROMO POPUP LOGIC ---
        window.onload = function () {
            const popup = document.getElementById("promoPopup");

            // Check if the user has already seen the promo in this session
            const hasSeenPromo = sessionStorage.getItem("hasSeenEmpirePromo");

            if (popup && !hasSeenPromo) {
                // Show the popup after 1.5 second delay for luxury feel
                setTimeout(() => {
                    popup.style.display = "flex";
                }, 1500);
            }
        };

        function closePopup() {
            const popup = document.getElementById("promoPopup");

            // Mark as seen so it doesn't open again during this session
            sessionStorage.setItem("hasSeenEmpirePromo", "true");

            if (popup) {
                popup.classList.add("closing");
                setTimeout(() => {
                    popup.style.display = "none";
                    // Trigger auth modal if user is not logged in
                    if (typeof currentUser !== 'undefined' && !currentUser) {
                        document.getElementById("authModal")?.classList.add("active");
                    } else if (typeof currentUser === 'undefined') {
                        // Fallback if currentUser variable isn't initialized yet
                        document.getElementById("authModal")?.classList.add("active");
                    }
                }, 350);
            }
        }

        // --- AUTH UI LOGIC ---
        function showEmailLogin() {
            document.getElementById('authStepChoice').style.display = 'none';
            document.getElementById('authStepEmail').style.display = 'block';
        }

        function showEmailSignUp() {
            document.getElementById('authStepChoice').style.display = 'none';
            document.getElementById('authStepSignUp').style.display = 'block';
        }

        function backToChoice() {
            document.getElementById('authStepEmail').style.display = 'none';
            document.getElementById('authStepSignUp').style.display = 'none';
            document.getElementById('authStepChoice').style.display = 'block';
        }

        function closeAuth() {
            document.getElementById('authModal').classList.remove('active');
        }

        function openAuth() {
            document.getElementById('authModal').classList.add('active');
            backToChoice();
        }
    </script>
</body>

</html>